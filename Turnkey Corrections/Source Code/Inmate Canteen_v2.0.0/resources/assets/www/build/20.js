webpackJsonp([20],{252:function(n,l,t){"use strict";function e(n){return o._22(0,[(n()(),o.Z(0,0,null,null,2,"button",[["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.backToCategories()&&e}return e},y.b,y.a)),o.Y(1,1097728,null,0,I.a,[[8,""],Y.a,o.j,o.z],null,null),(n()(),o._20(-1,0,["Back"]))],null,null)}function u(n){return o._22(0,[(n()(),o.Z(0,0,null,null,6,"button",[["class","item item-block"],["ion-item",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.selectItemsByOrder(n.parent.context.$implicit)&&e}return e},j.b,j.a)),o.Y(1,1097728,null,3,Z.a,[z.a,Y.a,o.j,o.z,[2,w.a]],null,null),o._18(335544320,4,{contentLabel:0}),o._18(603979776,5,{_buttons:1}),o._18(603979776,6,{_icons:1}),o.Y(5,16384,null,0,x.a,[],null,null),(n()(),o._20(6,2,["\n        ","\n      "]))],null,function(n,l){n(l,6,0,l.parent.context.$implicit.description)})}function a(n){return o._22(0,[(n()(),o.Z(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),o._20(-1,null,["\n      "])),(n()(),o.U(16777216,null,null,1,null,u)),o.Y(3,16384,null,0,T.k,[o.I,o.F],{ngIf:[0,"ngIf"]},null),(n()(),o._20(-1,null,["\n    "]))],function(n,l){n(l,3,0,l.context.$implicit.items>0)},null)}function i(n){return o._22(0,[(n()(),o._20(-1,null,["\n"])),(n()(),o.Z(1,0,null,null,42,"ion-header",[],null,null,null,null,null)),o.Y(2,16384,null,0,P.a,[Y.a,o.j,o.z,[2,S.a]],null,null),(n()(),o._20(-1,null,["\n  "])),(n()(),o.Z(4,0,null,null,38,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,q.b,q.a)),o.Y(5,49152,null,0,A.a,[F.a,[2,S.a],[2,O.a],Y.a,o.j,o.z],null,null),(n()(),o._20(-1,3,["\n    "])),(n()(),o.Z(7,0,null,0,13,"ion-buttons",[["left",""]],null,null,null,null,null)),o.Y(8,16384,null,1,B.a,[Y.a,o.j,o.z,[2,D.a],[2,A.a]],null,null),o._18(603979776,1,{_buttons:1}),(n()(),o._20(-1,null,["\n      "])),(n()(),o.Z(11,0,null,null,8,"button",[["color","hamburgermenu"],["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==o._11(n,13).toggle()&&e}return e},y.b,y.a)),o.Y(12,1097728,[[2,4],[1,4]],0,I.a,[[8,""],Y.a,o.j,o.z],{color:[0,"color"]},null),o.Y(13,1064960,null,0,E.a,[L.a,[2,S.a],[2,I.a],[2,A.a]],{menuToggle:[0,"menuToggle"]},null),o.Y(14,16384,null,1,B.a,[Y.a,o.j,o.z,[2,D.a],[2,A.a]],{color:[0,"color"]},null),o._18(603979776,2,{_buttons:1}),(n()(),o._20(-1,0,["\n        "])),(n()(),o.Z(17,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o.Y(18,147456,null,0,M.a,[Y.a,o.j,o.z],{name:[0,"name"]},null),(n()(),o._20(-1,0,["\n      "])),(n()(),o._20(-1,null,["\n    "])),(n()(),o._20(-1,3,["\n    "])),(n()(),o.Z(22,0,null,3,2,"ion-title",[],null,null,null,R.b,R.a)),o.Y(23,49152,null,0,$.a,[Y.a,o.j,o.z,[2,D.a],[2,A.a]],null,null),(n()(),o._20(-1,0,["Canteen Categories"])),(n()(),o._20(-1,3,["\n    "])),(n()(),o.Z(26,0,null,2,15,"ion-buttons",[["end",""]],null,null,null,null,null)),o.Y(27,16384,null,1,B.a,[Y.a,o.j,o.z,[2,D.a],[2,A.a]],null,null),o._18(603979776,3,{_buttons:1}),(n()(),o._20(-1,null,["\n      "])),(n()(),o.Z(30,0,null,null,10,"button",[["clear",""],["id","displayCart"],["ion-button",""],["no-detail",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.toCartClick()&&e}return e},y.b,y.a)),o.Y(31,1097728,[[3,4]],0,I.a,[[8,""],Y.a,o.j,o.z],{clear:[0,"clear"]},null),(n()(),o._20(-1,0,["\n        "])),(n()(),o.Z(33,0,null,0,6,"ion-icon",[["id","displayCart"],["name","cart"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o.Y(34,147456,null,0,M.a,[Y.a,o.j,o.z],{name:[0,"name"]},null),(n()(),o._20(-1,null,["\n          "])),(n()(),o.Z(36,0,null,null,2,"ion-badge",[["color","danger"],["id","notifications-badge"]],null,null,null,null,null)),o.Y(37,16384,null,0,U.a,[Y.a,o.j,o.z],{color:[0,"color"]},null),(n()(),o._20(38,null,["",""])),(n()(),o._20(-1,null,["\n        "])),(n()(),o._20(-1,0,["\n      "])),(n()(),o._20(-1,null,["\n    "])),(n()(),o._20(-1,3,["\n  "])),(n()(),o._20(-1,null,["\n"])),(n()(),o._20(-1,null,["\n"])),(n()(),o.Z(45,0,null,null,18,"ion-content",[["no-padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,V.b,V.a)),o.Y(46,4374528,null,0,W.a,[Y.a,X.a,G.a,o.j,o.z,F.a,H.a,o.u,[2,S.a],[2,O.a]],null,null),(n()(),o._20(-1,1,["\n  "])),(n()(),o.Z(48,0,null,1,1,"p",[],null,null,null,null,null)),(n()(),o._20(-1,null,["Select items by clicking these categories."])),(n()(),o._20(-1,1,["\n  "])),(n()(),o.Z(51,0,null,1,1,"p",[],null,null,null,null,null)),(n()(),o._20(52,null,["The canteen deposit limit is $","."])),(n()(),o._20(-1,1,["\n  "])),(n()(),o.U(16777216,null,1,1,null,e)),o.Y(55,16384,null,0,T.k,[o.I,o.F],{ngIf:[0,"ngIf"]},null),(n()(),o._20(-1,1,["\n  "])),(n()(),o.Z(57,0,null,1,5,"ion-list",[],null,null,null,null,null)),o.Y(58,16384,null,0,J.a,[Y.a,o.j,o.z,X.a,K.l,G.a],null,null),(n()(),o._20(-1,null,["\n    "])),(n()(),o.U(16777216,null,null,1,null,a)),o.Y(61,802816,null,0,T.j,[o.I,o.F,o.p],{ngForOf:[0,"ngForOf"]},null),(n()(),o._20(-1,null,["\n  "])),(n()(),o._20(-1,1,["\n\n"]))],function(n,l){var t=l.component;n(l,12,0,"hamburgermenu");n(l,13,0,"");n(l,14,0,"hamburgermenu");n(l,18,0,"menu");n(l,31,0,"");n(l,34,0,"cart");n(l,37,0,"danger");n(l,55,0,t.itemSelect);n(l,61,0,t.categories)},function(n,l){var t=l.component;n(l,4,0,o._11(l,5)._hidden,o._11(l,5)._sbPadding);n(l,11,0,o._11(l,13).isHidden);n(l,17,0,o._11(l,18)._hidden);n(l,33,0,o._11(l,34)._hidden);n(l,38,0,t.cartTotal);n(l,45,0,o._11(l,46).statusbarPadding,o._11(l,46)._hasRefresher);n(l,52,0,t.maxCanteenDeposit)})}Object.defineProperty(l,"__esModule",{value:!0});var o=t(0),r=(t(3),t(57),t(59),t(47)),s=this&&this.__awaiter||function(n,l,t,e){return new(t||(t=Promise))(function(u,a){function i(n){try{r(e.next(n))}catch(n){a(n)}}function o(n){try{r(e.throw(n))}catch(n){a(n)}}function r(n){n.done?u(n.value):new t(function(l){l(n.value)}).then(i,o)}r((e=e.apply(n,l||[])).next())})},c=this&&this.__generator||function(n,l){function t(t){return function(i){return function(t){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,u&&(a=u[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(u,t[1])).done)return a;switch(u=0,a&&(t=[0,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return o.label++,{value:t[1],done:!1};case 5:o.label++,u=t[1],t=[0];continue;case 7:t=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===t[0]||2===t[0])){o=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){o.label=t[1];break}if(6===t[0]&&o.label<a[1]){o.label=a[1],a=t;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(t);break}a[2]&&o.ops.pop(),o.trys.pop();continue}t=l.call(n,o)}catch(n){t=[6,n],u=0}finally{e=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,i])}}var e,u,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},b=function(){function n(n,l,t,e,u,a,i){this.navCtrl=n,this.navParams=l,this.loadingCtrl=t,this.api=e,this.alertCtrl=u,this.storage=a,this.events=i,this.items=[],this.categorySelect=!0,this.itemSelect=!1,this.cartItems=[],this.cartItemsIn=[],this.cartTotal=0}return n.prototype.ionViewCanEnter=function(){return s(this,void 0,void 0,function(){var n;return c(this,function(l){switch(l.label){case 0:return n=this,[4,this.storage.get("maxCanteenDeposit")];case 1:return n.maxCanteenDeposit=l.sent(),[2]}})})},n.prototype.ionViewWillEnter=function(){return s(this,void 0,void 0,function(){var n,l,t,e,u,a,i,o,r,s=this;return c(this,function(c){switch(c.label){case 0:n=this.loadingCtrl.create({content:"Loading..."}),c.label=1;case 1:return c.trys.push([1,10,,11]),void 0!=this.categories?[3,9]:(n.present(),this.events.subscribe("cartTotal:created",function(n){s.cartItems=n,s.cartTotal=n.length}),[4,this.api.getCategories()]);case 2:for(l=c.sent(),this.categories=l.CanteenCategoriesMobileResult.Categories,t=0;t<this.categories.length;t++)this.categories[t].items=0,this.categories[t].itemsList=[];return[4,this.api.getSpecificItems()];case 3:return e=c.sent(),u=e.CanteenItemsMobileResult.Items,[4,this.handleCategories(u)];case 4:return c.sent(),a=this,[4,this.storage.get("cartItems")];case 5:return a.cartItemsIn=c.sent(),void 0==this.cartItemsIn?[3,8]:(i=this,[4,this.cartItemsIn]);case 6:return i.cartItems=c.sent(),o=this,[4,this.cartItems.length];case 7:o.cartTotal=c.sent(),c.label=8;case 8:n.dismiss(),c.label=9;case 9:return[3,11];case 10:return r=c.sent(),console.log(r),n.dismiss(),[3,11];case 11:return[2]}})})},n.prototype.handleCategories=function(n){try{for(var l=0;l<n.length;l++)if(n[l]&&n[l].category){var t=this.categories.find(function(t){return t.cat==n[l].category});t.items=t.items+1,t.itemsList.push(n[l])}}catch(n){console.log(n)}},n.prototype.selectItemsByOrder=function(n){this.navCtrl.push("CanteenItemsPage",{data:n})},n.prototype.toCartClick=function(){if(this.cartItems.length>0)this.navCtrl.setRoot("ProcessDepositPage");else if(0==this.cartItems.length){this.alertCtrl.create({title:"Cart Empty",subTitle:"Your currently have zero items in your cart. Add items before moving on to cart view.",buttons:["OK"]}).present()}},n}(),h=function(){return function(){}}(),_=t(200),g=t(201),d=t(202),f=t(203),m=t(204),p=t(205),k=t(206),v=t(207),C=t(208),y=t(46),I=t(19),Y=t(1),j=t(130),Z=t(16),z=t(14),w=t(40),x=t(60),T=t(11),P=t(84),S=t(5),q=t(275),A=t(34),F=t(8),O=t(20),B=t(129),D=t(35),E=t(128),L=t(22),M=t(38),R=t(210),$=t(58),U=t(144),V=t(209),W=t(21),X=t(4),G=t(9),H=t(24),J=t(48),K=t(6),N=t(10),Q=t(85),nn=t(86),ln=t(127),tn=t(62),en=o.X({encapsulation:2,styles:[],data:{}}),un=o.V("page-canteen-categories",b,function(n){return o._22(0,[(n()(),o.Z(0,0,null,null,1,"page-canteen-categories",[],null,null,null,i,en)),o.Y(1,49152,null,0,b,[O.a,N.a,Q.a,r.a,nn.a,ln.b,tn.a],null,null)],null,null)},{},{},[]),an=t(18),on=t(126),rn=t(39);t.d(l,"CanteenCategoriesPageModuleNgFactory",function(){return sn});var sn=o.W(h,[],function(n){return o._7([o._8(512,o.i,o.S,[[8,[_.a,g.a,d.a,f.a,m.a,p.a,k.a,v.a,C.a,un]],[3,o.i],o.s]),o._8(4608,T.m,T.l,[o.r,[2,T.u]]),o._8(4608,an.s,an.s,[]),o._8(4608,an.d,an.d,[]),o._8(512,T.b,T.b,[]),o._8(512,an.q,an.q,[]),o._8(512,an.i,an.i,[]),o._8(512,an.o,an.o,[]),o._8(512,on.a,on.a,[]),o._8(512,on.b,on.b,[]),o._8(512,h,h,[]),o._8(256,rn.a,b,[])])})},275:function(n,l,t){"use strict";function e(n){return u._22(0,[(n()(),u.Z(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),u.Y(1,278528,null,0,a.i,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),u.Z(2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.backButtonClick(t)&&e}return e},i.b,i.a)),u.Y(3,278528,null,0,a.i,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Y(4,1097728,null,0,o.a,[[8,"bar-button"],r.a,u.j,u.z],null,null),(n()(),u.Z(5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u.Y(6,278528,null,0,a.i,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Y(7,147456,null,0,s.a,[r.a,u.j,u.z],{name:[0,"name"]},null),(n()(),u.Z(8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),u.Y(9,278528,null,0,a.i,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),u._20(10,null,["",""])),u._10(null,0),u._10(null,1),u._10(null,2),(n()(),u.Z(14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),u.Y(15,278528,null,0,a.i,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._10(null,3)],function(n,l){var t=l.component;n(l,1,0,"toolbar-background","toolbar-background-"+t._mode);n(l,3,0,"back-button","back-button-"+t._mode);n(l,6,0,"back-button-icon","back-button-icon-"+t._mode);n(l,7,0,t._bbIcon);n(l,9,0,"back-button-text","back-button-text-"+t._mode);n(l,15,0,"toolbar-content","toolbar-content-"+t._mode)},function(n,l){var t=l.component;n(l,2,0,t._hideBb);n(l,5,0,u._11(l,7)._hidden);n(l,10,0,t._backText)})}t.d(l,"a",function(){return c}),l.b=e;var u=t(0),a=t(11),i=t(46),o=t(19),r=t(1),s=t(38),c=(t(5),t(20),u.X({encapsulation:2,styles:[],data:{}}))}});