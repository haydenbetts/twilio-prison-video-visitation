webpackJsonp([12],{270:function(l,n,t){"use strict";function e(l){return s._22(0,[(l()(),s.Z(0,0,null,null,64,"ion-item",[["class","item item-block"]],null,null,null,j.b,j.a)),s.Y(1,1097728,null,3,k.a,[w.a,Z.a,s.j,s.z,[2,O.a]],null,null),s._18(335544320,2,{contentLabel:0}),s._18(603979776,3,{_buttons:1}),s._18(603979776,4,{_icons:1}),s.Y(5,16384,null,0,Y.a,[],null,null),(l()(),s._20(-1,2,["\n        "])),(l()(),s.Z(7,0,null,2,17,"ion-row",[["class","row"]],null,null,null,null,null)),s.Y(8,16384,null,0,T.a,[],null,null),(l()(),s._20(-1,null,["\n          "])),(l()(),s.Z(10,0,null,null,6,"ion-col",[["class","col"],["col-6",""]],null,null,null,null,null)),s.Y(11,16384,null,0,S.a,[],null,null),(l()(),s._20(-1,null,["\n            "])),(l()(),s.Z(13,0,null,null,2,"h2",[["class","h2HedStyle"]],null,null,null,null,null)),(l()(),s._20(14,null,["$",""])),s._15(15,2),(l()(),s._20(-1,null,["\n          "])),(l()(),s._20(-1,null,["\n          "])),(l()(),s.Z(18,0,null,null,5,"ion-col",[["class","col"],["col-6",""]],null,null,null,null,null)),s.Y(19,16384,null,0,S.a,[],null,null),(l()(),s._20(-1,null,["\n            "])),(l()(),s.Z(21,0,null,null,1,"h2",[["class","itemDescStyle"],["text-wrap",""]],null,null,null,null,null)),(l()(),s._20(22,null,["",""])),(l()(),s._20(-1,null,["\n          "])),(l()(),s._20(-1,null,["\n        "])),(l()(),s._20(-1,2,["\n        "])),(l()(),s.Z(26,0,null,2,37,"ion-row",[["class","row"]],null,null,null,null,null)),s.Y(27,16384,null,0,T.a,[],null,null),(l()(),s._20(-1,null,["\n          "])),(l()(),s.Z(29,0,null,null,8,"ion-col",[["class","col"],["col-2",""]],null,null,null,null,null)),s.Y(30,16384,null,0,S.a,[],null,null),(l()(),s._20(-1,null,["\n            "])),(l()(),s.Z(32,0,null,null,4,"button",[["class","buttonStyle"],["clear",""]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.subtractItem(l.context.$implicit)&&e}return e},null,null)),(l()(),s._20(-1,null,["\n              "])),(l()(),s.Z(34,0,null,null,1,"ion-icon",[["id","icon"],["name","remove-circle"],["role","img"]],[[2,"hide",null]],null,null,null,null)),s.Y(35,147456,null,0,D.a,[Z.a,s.j,s.z],{name:[0,"name"]},null),(l()(),s._20(-1,null,["\n            "])),(l()(),s._20(-1,null,["\n          "])),(l()(),s._20(-1,null,["\n          "])),(l()(),s.Z(39,0,null,null,5,"ion-col",[["class","col"],["col-2",""]],null,null,null,null,null)),s.Y(40,16384,null,0,S.a,[],null,null),(l()(),s._20(-1,null,["\n            "])),(l()(),s.Z(42,0,null,null,1,"h2",[["id","text-center"]],null,null,null,null,null)),(l()(),s._20(43,null,["",""])),(l()(),s._20(-1,null,["\n          "])),(l()(),s._20(-1,null,["\n          "])),(l()(),s.Z(46,0,null,null,8,"ion-col",[["class","col"],["col-2",""]],null,null,null,null,null)),s.Y(47,16384,null,0,S.a,[],null,null),(l()(),s._20(-1,null,["\n            "])),(l()(),s.Z(49,0,null,null,4,"button",[["class","buttonStyle"],["clear",""]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.addItem(l.context.$implicit)&&e}return e},null,null)),(l()(),s._20(-1,null,["\n              "])),(l()(),s.Z(51,0,null,null,1,"ion-icon",[["id","icon"],["name","add-circle"],["role","img"]],[[2,"hide",null]],null,null,null,null)),s.Y(52,147456,null,0,D.a,[Z.a,s.j,s.z],{name:[0,"name"]},null),(l()(),s._20(-1,null,["\n            "])),(l()(),s._20(-1,null,["\n          "])),(l()(),s._20(-1,null,["\n          "])),(l()(),s.Z(56,0,null,null,6,"ion-col",[["class","floatRightStyle col"],["col-6",""]],null,null,null,null,null)),s.Y(57,16384,null,0,S.a,[],null,null),(l()(),s._20(-1,null,["\n            "])),(l()(),s.Z(59,0,null,null,2,"button",[["class","removeButtonStyle"],["color","danger"],["ion-button",""],["item-right",""]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.removeItem(l.context.$implicit)&&e}return e},F.b,F.a)),s.Y(60,1097728,null,0,A.a,[[8,""],Z.a,s.j,s.z],{color:[0,"color"]},null),(l()(),s._20(-1,0,["Delete"])),(l()(),s._20(-1,null,["\n          "])),(l()(),s._20(-1,null,["\n        "])),(l()(),s._20(-1,2,["\n      "]))],function(l,n){l(n,35,0,"remove-circle");l(n,52,0,"add-circle");l(n,60,0,"danger")},function(l,n){l(n,14,0,s._21(n,14,0,l(n,15,0,s._11(n.parent,0),n.context.$implicit.price,"1.2-2")));l(n,22,0,n.context.$implicit.itemdesc);l(n,34,0,s._11(n,35)._hidden);l(n,43,0,n.context.$implicit.qty);l(n,51,0,s._11(n,52)._hidden)})}function u(l){return s._22(0,[(l()(),s.Z(0,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),s._20(1,null,["Maximum canteen transaction: $","."]))],null,function(l,n){l(n,1,0,n.component.maxCanteenDeposit)})}function a(l){return s._22(0,[(l()(),s.Z(0,0,null,null,2,"button",[["block",""],["ion-button",""]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.continueShopping()&&e}return e},F.b,F.a)),s.Y(1,1097728,null,0,A.a,[[8,""],Z.a,s.j,s.z],{block:[0,"block"]},null),(l()(),s._20(-1,0,["Continue Shopping"]))],function(l,n){l(n,1,0,"")},null)}function o(l){return s._22(0,[s._13(0,c.e,[s.r]),(l()(),s._20(-1,null,["\n"])),(l()(),s.Z(2,0,null,null,20,"ion-header",[],null,null,null,null,null)),s.Y(3,16384,null,0,R.a,[Z.a,s.j,s.z,[2,P.a]],null,null),(l()(),s._20(-1,null,["\n\n  "])),(l()(),s.Z(5,0,null,null,16,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,z.b,z.a)),s.Y(6,49152,null,0,$.a,[q.a,[2,P.a],[2,M.a],Z.a,s.j,s.z],null,null),(l()(),s._20(-1,3,["\n    "])),(l()(),s.Z(8,0,null,0,8,"button",[["color","hamburgermenu"],["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==s._11(l,10).toggle()&&e}return e},F.b,F.a)),s.Y(9,1097728,[[1,4]],0,A.a,[[8,""],Z.a,s.j,s.z],{color:[0,"color"]},null),s.Y(10,1064960,null,0,E.a,[B.a,[2,P.a],[2,A.a],[2,$.a]],{menuToggle:[0,"menuToggle"]},null),s.Y(11,16384,null,1,L.a,[Z.a,s.j,s.z,[2,N.a],[2,$.a]],{color:[0,"color"]},null),s._18(603979776,1,{_buttons:1}),(l()(),s._20(-1,0,["\n      "])),(l()(),s.Z(14,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),s.Y(15,147456,null,0,D.a,[Z.a,s.j,s.z],{name:[0,"name"]},null),(l()(),s._20(-1,0,["\n    "])),(l()(),s._20(-1,3,["\n    "])),(l()(),s.Z(18,0,null,3,2,"ion-title",[],null,null,null,U.b,U.a)),s.Y(19,49152,null,0,H.a,[Z.a,s.j,s.z,[2,N.a],[2,$.a]],null,null),(l()(),s._20(-1,0,["Process Deposit"])),(l()(),s._20(-1,3,["\n  "])),(l()(),s._20(-1,null,["\n"])),(l()(),s._20(-1,null,["\n"])),(l()(),s.Z(24,0,null,null,87,"ion-content",[["no-padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,K.b,K.a)),s.Y(25,4374528,null,0,V.a,[Z.a,J.a,Q.a,s.j,s.z,q.a,W.a,s.u,[2,P.a],[2,M.a]],null,null),(l()(),s._20(-1,1,["\n\n  "])),(l()(),s.Z(27,0,null,1,16,"ion-card",[],null,null,null,null,null)),s.Y(28,16384,null,0,X.a,[Z.a,s.j,s.z],null,null),(l()(),s._20(-1,null,["\n    "])),(l()(),s.Z(30,0,null,null,2,"ion-card-header",[["class","headerStyle"]],null,null,null,null,null)),s.Y(31,16384,null,0,G.a,[Z.a,s.j,s.z],null,null),(l()(),s._20(-1,null,["Your Cart"])),(l()(),s._20(-1,null,["\n    "])),(l()(),s.Z(34,0,null,null,1,"p",[["class","inmateIntro"]],null,null,null,null,null)),(l()(),s._20(35,null,["Purchasing for inmate "," ","."])),(l()(),s._20(-1,null,["\n    "])),(l()(),s.Z(37,0,null,null,5,"ion-list",[["class","listMargin"],["no-lines",""]],null,null,null,null,null)),s.Y(38,16384,null,0,ll.a,[Z.a,s.j,s.z,J.a,nl.l,Q.a],null,null),(l()(),s._20(-1,null,["\n      "])),(l()(),s.U(16777216,null,null,1,null,e)),s.Y(41,802816,null,0,c.j,[s.I,s.F,s.p],{ngForOf:[0,"ngForOf"]},null),(l()(),s._20(-1,null,["\n    "])),(l()(),s._20(-1,null,["\n  "])),(l()(),s._20(-1,1,["\n\n  "])),(l()(),s.Z(45,0,null,1,55,"ion-card",[],null,null,null,null,null)),s.Y(46,16384,null,0,X.a,[Z.a,s.j,s.z],null,null),(l()(),s._20(-1,null,["\n    "])),(l()(),s.Z(48,0,null,null,51,"ion-card-content",[],null,null,null,null,null)),s.Y(49,16384,null,0,tl.a,[Z.a,s.j,s.z],null,null),(l()(),s._20(-1,null,["\n      "])),(l()(),s.Z(51,0,null,null,12,"ion-row",[["class","row"]],null,null,null,null,null)),s.Y(52,16384,null,0,T.a,[],null,null),(l()(),s._20(-1,null,["\n        "])),(l()(),s.Z(54,0,null,null,8,"ion-col",[["class","col"]],null,null,null,null,null)),s.Y(55,16384,null,0,S.a,[],null,null),(l()(),s._20(-1,null,["\n          "])),(l()(),s.Z(57,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),s._20(58,null,["Maximum deposit amount: $","."])),(l()(),s._20(-1,null,["\n          "])),(l()(),s.U(16777216,null,null,1,null,u)),s.Y(61,16384,null,0,c.k,[s.I,s.F],{ngIf:[0,"ngIf"]},null),(l()(),s._20(-1,null,["\n        "])),(l()(),s._20(-1,null,["\n      "])),(l()(),s._20(-1,null,["\n      "])),(l()(),s.Z(65,0,null,null,17,"ion-row",[["class","row"]],null,null,null,null,null)),s.Y(66,16384,null,0,T.a,[],null,null),(l()(),s._20(-1,null,["\n        "])),(l()(),s.Z(68,0,null,null,6,"ion-col",[["class","col"],["col-6",""]],null,null,null,null,null)),s.Y(69,16384,null,0,S.a,[],null,null),(l()(),s._20(-1,null,["\n          "])),(l()(),s.Z(71,0,null,null,2,"h2",[["class","cartTotalsStyle"]],null,null,null,null,null)),(l()(),s._20(72,null,["Subtotal: $",""])),s._15(73,2),(l()(),s._20(-1,null,["\n        "])),(l()(),s._20(-1,null,["\n        "])),(l()(),s.Z(76,0,null,null,5,"ion-col",[["class","col"],["col-6",""]],null,null,null,null,null)),s.Y(77,16384,null,0,S.a,[],null,null),(l()(),s._20(-1,null,["\n          "])),(l()(),s.Z(79,0,null,null,1,"h2",[["class","cartTotalsStyle"]],null,null,null,null,null)),(l()(),s._20(80,null,[" Fee: $",""])),(l()(),s._20(-1,null,["\n        "])),(l()(),s._20(-1,null,["\n      "])),(l()(),s._20(-1,null,["\n      "])),(l()(),s.Z(84,0,null,null,10,"ion-row",[["class","row"]],null,null,null,null,null)),s.Y(85,16384,null,0,T.a,[],null,null),(l()(),s._20(-1,null,["\n        "])),(l()(),s.Z(87,0,null,null,6,"ion-col",[["class","col"],["col-12",""]],null,null,null,null,null)),s.Y(88,16384,null,0,S.a,[],null,null),(l()(),s._20(-1,null,["\n          "])),(l()(),s.Z(90,0,null,null,2,"h2",[["class","cartTotalsStyle"]],null,null,null,null,null)),(l()(),s._20(91,null,["Tax: $",""])),s._15(92,2),(l()(),s._20(-1,null,["\n        "])),(l()(),s._20(-1,null,["\n      "])),(l()(),s._20(-1,null,["\n      "])),(l()(),s.Z(96,0,null,null,2,"h1",[["id","subtotalText"],["text-center",""]],null,null,null,null,null)),(l()(),s._20(97,null,["Total: $",""])),s._15(98,2),(l()(),s._20(-1,null,["\n    "])),(l()(),s._20(-1,null,["\n  "])),(l()(),s._20(-1,1,["\n\n  "])),(l()(),s.Z(102,0,null,1,8,"div",[["class","padding"]],null,null,null,null,null)),(l()(),s._20(-1,null,["\n    "])),(l()(),s.U(16777216,null,null,1,null,a)),s.Y(105,16384,null,0,c.k,[s.I,s.F],{ngIf:[0,"ngIf"]},null),(l()(),s._20(-1,null,["\n    "])),(l()(),s.Z(107,0,null,null,2,"button",[["block",""],["ion-button",""]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.checkout()&&e}return e},F.b,F.a)),s.Y(108,1097728,null,0,A.a,[[8,""],Z.a,s.j,s.z],{block:[0,"block"]},null),(l()(),s._20(-1,0,["Proceed to Checkout"])),(l()(),s._20(-1,null,["\n  "])),(l()(),s._20(-1,1,["\n\n"]))],function(l,n){var t=n.component;l(n,9,0,"hamburgermenu");l(n,10,0,"");l(n,11,0,"hamburgermenu");l(n,15,0,"menu");l(n,41,0,t.dataIn);l(n,61,0,t.mobileFeatures.havecanteen);l(n,105,0,t.mobileFeatures.havecanteen);l(n,108,0,"")},function(l,n){var t=n.component;l(n,5,0,s._11(n,6)._hidden,s._11(n,6)._sbPadding);l(n,8,0,s._11(n,10).isHidden);l(n,14,0,s._11(n,15)._hidden);l(n,24,0,s._11(n,25).statusbarPadding,s._11(n,25)._hasRefresher);l(n,35,0,t.inmate.firstname,t.inmate.lastname);l(n,58,0,t.maxDeposit);l(n,72,0,s._21(n,72,0,l(n,73,0,s._11(n,0),t.subtotal,"1.2-2")));l(n,80,0,t.fee);l(n,91,0,s._21(n,91,0,l(n,92,0,s._11(n,0),t.totalTax,"1.2-2")));l(n,97,0,s._21(n,97,0,l(n,98,0,s._11(n,0),t.total,"1.2-2")))})}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),i=(t(3),t(57),t(276)),r=(t(59),t(47)),c=t(11),h=this&&this.__awaiter||function(l,n,t,e){return new(t||(t=Promise))(function(u,a){function o(l){try{i(e.next(l))}catch(l){a(l)}}function s(l){try{i(e.throw(l))}catch(l){a(l)}}function i(l){l.done?u(l.value):new t(function(n){n(l.value)}).then(o,s)}i((e=e.apply(l,n||[])).next())})},d=this&&this.__generator||function(l,n){function t(t){return function(o){return function(t){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,u&&(a=u[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(u,t[1])).done)return a;switch(u=0,a&&(t=[0,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(l,s)}catch(l){t=[6,l],u=0}finally{e=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,o])}}var e,u,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},p=function(){function l(l,n,t,e,u,a,o,s,i){this.navCtrl=l,this.navParams=n,this.storage=t,this.api=e,this.alertCtrl=u,this.loadingCtrl=a,this.iab=o,this.plt=s,this.currencypipe=i,this.depositAmount=0,this.phoneCards=0,this.subtotal=0,this.total=0,this.canteenItems=[],this.itemsToSend=[],this.dataIn=[],this.commDeposit=!1,this.taxable=0,this.totalTax=0,this.taxRate=0,this.canteenTotal=0,this.commDeposit=this.navParams.get("commDeposit")}return l.prototype.ionViewCanEnter=function(){return h(this,void 0,void 0,function(){var l,n,t,e,u,a,o,s,i;return d(this,function(r){switch(r.label){case 0:l=this.loadingCtrl.create({content:"Loading..."}),r.label=1;case 1:return r.trys.push([1,11,,12]),l.present(),n=this,[4,this.storage.get("cartItems")];case 2:return n.dataIn=r.sent(),t=this,[4,this.storage.get("inmate")];case 3:return t.inmate=r.sent(),e=this,[4,this.storage.get("location")];case 4:return e.siteID=r.sent(),u=this,[4,this.storage.get("maxDeposit")];case 5:return u.maxDeposit=r.sent(),a=this,[4,this.storage.get("maxCanteenDeposit")];case 6:return a.maxCanteenDeposit=r.sent(),o=this,[4,this.storage.get("mobileFeatures")];case 7:return o.mobileFeatures=r.sent(),[4,this.api.getCreditCardFee(this.siteID)];case 8:return s=r.sent(),[4,this.handleFee(s)];case 9:return r.sent(),[4,this.calculateSubtotal()];case 10:return r.sent(),l.dismiss(),[3,12];case 11:return i=r.sent(),console.log(i),l.dismiss(),[3,12];case 12:return[2]}})})},l.prototype.calculateSubtotal=function(){return h(this,void 0,void 0,function(){var l,n,t,e,u,a,o,s,i,r;return d(this,function(c){switch(c.label){case 0:this.subtotal=0,this.canteenTotal=0,l=[],n=0,c.label=1;case 1:return n<this.dataIn.length?this.dataIn[n].tax_rate>0?(l.push(this.dataIn[n]),[3,4]):[3,2]:[3,7];case 2:return t=this,[4,this.subtotal];case 3:t.subtotal=c.sent()+this.dataIn[n].price*this.dataIn[n].qty,c.label=4;case 4:return 1!=this.dataIn[n].isCanteen?[3,6]:(e=this,[4,this.canteenTotal]);case 5:e.canteenTotal=c.sent()+this.dataIn[n].price*this.dataIn[n].qty,c.label=6;case 6:return n++,[3,1];case 7:return u=JSON.stringify(l),[4,this.api.getTaxInfo(this.siteID,this.inmate.id,u)];case 8:return a=c.sent(),o=this,[4,a.CalculateTaxMobileResult.salestax];case 9:return o.totalTax=c.sent(),s=this,[4,this.subtotal];case 10:return s.subtotal=c.sent()+a.CalculateTaxMobileResult.subtotal,i=this,[4,Number((this.subtotal+this.fee+this.totalTax).toFixed(2))];case 11:return i.total=c.sent(),r=this,[4,this.getCurrency(this.canteenTotal)];case 12:return r.canteenTotalString=c.sent(),this.canteenTotal>this.maxCanteenDeposit&&this.maxCanteenDeposit!=this.maxDeposit?[4,this.tooMuchCanteenAlert()]:[3,14];case 13:c.sent(),c.label=14;case 14:return[2]}})})},l.prototype.handleFee=function(l){1==l.CreditCardFeeResultResult.IsSuccess?this.fee=Number(l.CreditCardFeeResultResult.Fee):0==l.IsSuccess&&this.feeFailedAlert(l.CreditCardFeeResultResult.errorMessage)},l.prototype.checkout=function(){return h(this,void 0,void 0,function(){var l,n,t,e,u,a;return d(this,function(o){switch(o.label){case 0:return o.trys.push([0,14,,15]),this.subtotal>this.maxDeposit?(this.alertCtrl.create({title:"Max Deposit",subTitle:"Your deposit of $"+this.subtotal+" is over the max deposit amount of $"+this.maxDeposit+".",buttons:["OK"]}).present(),[3,13]):[3,1];case 1:return this.canteenTotal>this.maxCanteenDeposit?[4,this.tooMuchCanteenAlert()]:[3,3];case 2:return o.sent(),[3,13];case 3:(l=this.loadingCtrl.create({content:"Loading..."})).present(),n=[],t=0,o.label=4;case 4:return t<this.dataIn.length?"Inmate Deposit"!=this.dataIn[t].itemdesc?[3,6]:[4,n.push({Qty:1,Description:"Canteen Deposit",Amount:this.dataIn[t].price,Type:"0"})]:[3,11];case 5:return o.sent(),[3,10];case 6:return"Phone Card"!=this.dataIn[t].itemdesc?[3,8]:[4,n.push({Qty:1,Description:"Phone Card",Amount:this.dataIn[t].price,Type:"1"})];case 7:return o.sent(),[3,10];case 8:return e={Id:this.dataIn[t].itemid,Category:this.dataIn[t].catname,categoryId:this.dataIn[t].category,Qty:this.dataIn[t].qty,Type:"2",Price:this.dataIn[t].price,TaxRate:this.dataIn[t].tax_rate,Amount:this.dataIn[t].price+this.dataIn[t].price*this.dataIn[t].tax_rate,Description:this.dataIn[t].itemdesc,RowNotes:"Purchased through ICC Mobile V2."},[4,n.push(e)];case 9:o.sent(),o.label=10;case 10:return t++,[3,4];case 11:return[4,this.api.sendDepositCanteen(JSON.stringify(n),this.subtotal)];case 12:u=o.sent(),l.dismiss(),1==u.TKCEreborTransactionResult.IsSuccess?(this.plt.is("ios")?window.cordova.InAppBrowser.open(u.TKCEreborTransactionResult.BollettaRedirectUrl,"_blank",{location:"no"}):this.plt.is("android")&&this.iab.create(u.TKCEreborTransactionResult.BollettaRedirectUrl,"_self",{location:"yes"}),this.dataIn=[],this.storage.remove("cartItems"),this.navCtrl.setRoot("HomePage")):this.failedAlert(u),o.label=13;case 13:return[3,15];case 14:return a=o.sent(),console.log(a),[3,15];case 15:return[2]}})})},l.prototype.addItem=function(l){return h(this,void 0,void 0,function(){var n,t;return d(this,function(e){switch(e.label){case 0:for((n=this.loadingCtrl.create({content:"Loading..."})).present(),t=0;t<this.dataIn.length;t++)this.dataIn[t]==l&&this.dataIn[t].qty++,this.subtotal=0,this.taxable=0,this.totalTax=0,this.total=0;return[4,this.calculateSubtotal()];case 1:return e.sent(),n.dismiss(),[2]}})})},l.prototype.subtractItem=function(l){return h(this,void 0,void 0,function(){var n,t;return d(this,function(e){switch(e.label){case 0:if((n=this.loadingCtrl.create({content:"Loading..."})).present(),l.qty>1)for(t=0;t<this.dataIn.length;t++)this.dataIn[t]==l&&this.dataIn[t].qty--,this.subtotal=0,this.taxable=0,this.totalTax=0,this.total=0;return[4,this.calculateSubtotal()];case 1:return e.sent(),n.dismiss(),[2]}})})},l.prototype.failedAlert=function(l){var n=this;this.alertCtrl.create({title:"Processing Error",subTitle:"Transaction failed: "+l.TKCEreborTransactionResult.ErrorMessage,buttons:[{text:"Okay",handler:function(){n.navCtrl.setRoot("HomePage")}}]}).present()},l.prototype.feeFailedAlert=function(l){var n=this;this.alertCtrl.create({title:"Fee Access Error",subTitle:"Error getting fee:"+l+".",buttons:[{text:"Okay",handler:function(){n.navCtrl.setRoot("HomePage")}}]}).present()},l.prototype.removeItem=function(l){return h(this,void 0,void 0,function(){var n,t;return d(this,function(e){switch(e.label){case 0:for((n=this.loadingCtrl.create({content:"Loading..."})).present(),t=0;t<this.dataIn.length;t++)this.dataIn[t]==l&&this.dataIn.splice(t,1);return this.storage.set("cartItems",this.dataIn),this.subtotal=0,this.taxable=0,this.totalTax=0,this.total=0,this.dataIn.length>0?[4,this.calculateSubtotal()]:[3,2];case 1:return e.sent(),[3,3];case 2:this.total=0,this.subtotal=0,e.label=3;case 3:return n.dismiss(),[2]}})})},l.prototype.ionViewWillLeave=function(){this.storage.set("cartItems",this.dataIn)},l.prototype.continueShopping=function(){this.navCtrl.setRoot("CanteenCategoriesPage")},l.prototype.tooMuchCanteenAlert=function(){this.alertCtrl.create({title:"Exceeds max canteen limit",subTitle:"Your order has a subtotal of "+this.canteenTotalString+" in canteen items, which is over the limit of $"+this.maxCanteenDeposit+".",buttons:[{text:"Okay"}]}).present()},l.prototype.getCurrency=function(l){return this.currencypipe.transform(l,"USD",!0,"1.2-2")},l}(),_=function(){return function(){}}(),b=t(200),m=t(201),g=t(202),f=t(203),y=t(204),v=t(205),I=t(206),C=t(207),x=t(208),j=t(130),k=t(16),w=t(14),Z=t(1),O=t(40),Y=t(60),T=t(88),S=t(89),D=t(38),F=t(46),A=t(19),R=t(84),P=t(5),z=t(275),$=t(34),q=t(8),M=t(20),E=t(128),B=t(22),L=t(129),N=t(35),U=t(210),H=t(58),K=t(209),V=t(21),J=t(4),Q=t(9),W=t(24),X=t(132),G=t(137),ll=t(48),nl=t(6),tl=t(135),el=t(10),ul=t(127),al=t(86),ol=t(85),sl=s.X({encapsulation:2,styles:[],data:{}}),il=s.V("page-process-deposit",p,function(l){return s._22(0,[(l()(),s.Z(0,0,null,null,1,"page-process-deposit",[],null,null,null,o,sl)),s.Y(1,49152,null,0,p,[M.a,el.a,ul.b,r.a,al.a,ol.a,i.a,J.a,c.c],null,null)],null,null)},{},{},[]),rl=t(18),cl=t(126),hl=t(39);t.d(n,"ProcessDepositPageModuleNgFactory",function(){return dl});var dl=s.W(_,[],function(l){return s._7([s._8(512,s.i,s.S,[[8,[b.a,m.a,g.a,f.a,y.a,v.a,I.a,C.a,x.a,il]],[3,s.i],s.s]),s._8(4608,c.m,c.l,[s.r,[2,c.u]]),s._8(4608,rl.s,rl.s,[]),s._8(4608,rl.d,rl.d,[]),s._8(4608,i.a,i.a,[]),s._8(512,c.b,c.b,[]),s._8(512,rl.q,rl.q,[]),s._8(512,rl.i,rl.i,[]),s._8(512,rl.o,rl.o,[]),s._8(512,cl.a,cl.a,[]),s._8(512,cl.b,cl.b,[]),s._8(512,_,_,[]),s._8(256,hl.a,p,[])])})},275:function(l,n,t){"use strict";function e(l){return u._22(0,[(l()(),u.Z(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),u.Y(1,278528,null,0,a.i,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),u.Z(2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.backButtonClick(t)&&e}return e},o.b,o.a)),u.Y(3,278528,null,0,a.i,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Y(4,1097728,null,0,s.a,[[8,"bar-button"],i.a,u.j,u.z],null,null),(l()(),u.Z(5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u.Y(6,278528,null,0,a.i,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Y(7,147456,null,0,r.a,[i.a,u.j,u.z],{name:[0,"name"]},null),(l()(),u.Z(8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),u.Y(9,278528,null,0,a.i,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),u._20(10,null,["",""])),u._10(null,0),u._10(null,1),u._10(null,2),(l()(),u.Z(14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),u.Y(15,278528,null,0,a.i,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._10(null,3)],function(l,n){var t=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+t._mode);l(n,3,0,"back-button","back-button-"+t._mode);l(n,6,0,"back-button-icon","back-button-icon-"+t._mode);l(n,7,0,t._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+t._mode);l(n,15,0,"toolbar-content","toolbar-content-"+t._mode)},function(l,n){var t=n.component;l(n,2,0,t._hideBb);l(n,5,0,u._11(n,7)._hidden);l(n,10,0,t._backText)})}t.d(n,"a",function(){return c}),n.b=e;var u=t(0),a=t(11),o=t(46),s=t(19),i=t(1),r=t(38),c=(t(5),t(20),u.X({encapsulation:2,styles:[],data:{}}))},276:function(l,n,t){"use strict";t.d(n,"a",function(){return s});var e=t(3),u=t(61),a=t(12),o=(t.n(a),function(){function l(l,n,t){try{t&&"string"!=typeof t&&(t=Object.keys(t).map(function(l){return l+"="+t[l]}).join(",")),this._objectInstance=cordova.InAppBrowser.open(l,n,t)}catch(t){window.open(l,n),console.warn("Native: InAppBrowser is not installed or you are running on a browser. Falling back to window.open.")}}return l.prototype.show=function(){},l.prototype.close=function(){},l.prototype.hide=function(){},l.prototype.executeScript=function(l){},l.prototype.insertCSS=function(l){},l.prototype.on=function(l){var n=this;return new a.Observable(function(t){return n._objectInstance.addEventListener(l,t.next.bind(t)),function(){return n._objectInstance.removeEventListener(l,t.next.bind(t))}})},Object(e.__decorate)([Object(u.c)({sync:!0}),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[]),Object(e.__metadata)("design:returntype",void 0)],l.prototype,"show",null),Object(e.__decorate)([Object(u.c)({sync:!0}),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[]),Object(e.__metadata)("design:returntype",void 0)],l.prototype,"close",null),Object(e.__decorate)([Object(u.c)({sync:!0}),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[]),Object(e.__metadata)("design:returntype",void 0)],l.prototype,"hide",null),Object(e.__decorate)([Object(u.c)(),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[Object]),Object(e.__metadata)("design:returntype",Promise)],l.prototype,"executeScript",null),Object(e.__decorate)([Object(u.c)(),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[Object]),Object(e.__metadata)("design:returntype",Promise)],l.prototype,"insertCSS",null),Object(e.__decorate)([Object(u.e)(),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[String]),Object(e.__metadata)("design:returntype",a.Observable)],l.prototype,"on",null),l}()),s=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(e.__extends)(n,l),n.prototype.create=function(l,n,t){return new o(l,n,t)},n=Object(e.__decorate)([Object(u.g)({pluginName:"InAppBrowser",plugin:"cordova-plugin-inappbrowser",pluginRef:"cordova.InAppBrowser",repo:"https://github.com/apache/cordova-plugin-inappbrowser",platforms:["AmazonFire OS","Android","Browser","iOS","macOS","Windows"]})],n)}(u.f)}});