webpackJsonp([21],{266:function(l,n,u){"use strict";function t(l){return a._22(0,[(l()(),a.Z(0,0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,v.b,v.a)),a.Y(1,1097728,null,3,C.a,[k.a,I.a,a.j,a.z,[2,Y.a]],null,null),a._18(335544320,1,{contentLabel:0}),a._18(603979776,2,{_buttons:1}),a._18(603979776,3,{_icons:1}),a.Y(5,16384,null,0,x.a,[],null,null),(l()(),a._20(-1,2,["\n    "])),(l()(),a.Z(7,0,null,2,1,"h2",[["class","errorMessage"]],null,null,null,null,null)),(l()(),a._20(-1,null,["Error finding username or password. Try again."])),(l()(),a._20(-1,2,["\n  "]))],null,null)}function e(l){return a._22(0,[(l()(),a._20(-1,null,["\n"])),(l()(),a._20(-1,null,["\n\n\n"])),(l()(),a.Z(2,0,null,null,78,"ion-content",[["class","loginDiv"],["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Z.b,Z.a)),a.Y(3,4374528,null,0,P.a,[I.a,j.a,T.a,a.j,a.z,z.a,F.a,a.u,[2,S.a],[2,U.a]],null,null),(l()(),a._20(-1,1,["\n  "])),(l()(),a.Z(5,0,null,1,1,"h1",[["class","welcomeText"]],null,null,null,null,null)),(l()(),a._20(-1,null,["Inmate Canteen Mobile"])),(l()(),a._20(-1,1,["\n  "])),(l()(),a.Z(8,0,null,1,0,"img",[["class","center"],["src","assets/imgs/InmateCanteen_Logo_Vector_2016_TM.png"]],null,null,null,null,null)),(l()(),a._20(-1,1,["\n\n  "])),(l()(),a.U(16777216,null,1,1,null,t)),a.Y(11,16384,null,0,M.k,[a.I,a.F],{ngIf:[0,"ngIf"]},null),(l()(),a._20(-1,1,["\n  "])),(l()(),a.Z(13,0,null,1,38,"ion-list",[["class","padding-top"]],null,null,null,null,null)),a.Y(14,16384,null,0,E.a,[I.a,a.j,a.z,j.a,L.l,T.a],null,null),(l()(),a._20(-1,null,["\n    "])),(l()(),a.Z(16,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,v.b,v.a)),a.Y(17,1097728,null,3,C.a,[k.a,I.a,a.j,a.z,[2,Y.a]],null,null),a._18(335544320,4,{contentLabel:0}),a._18(603979776,5,{_buttons:1}),a._18(603979776,6,{_icons:1}),a.Y(21,16384,null,0,x.a,[],null,null),(l()(),a._20(-1,2,["\n      "])),(l()(),a.Z(23,0,null,1,2,"ion-label",[["floating",""],["id","email"]],null,null,null,null,null)),a.Y(24,16384,[[4,4]],0,A.a,[I.a,a.j,a.z,[8,""],[8,null],[8,null],[8,null]],{id:[0,"id"]},null),(l()(),a._20(-1,null,["Email"])),(l()(),a._20(-1,2,["\n      "])),(l()(),a.Z(27,0,null,3,4,"ion-input",[["id","email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,u){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.username=u)&&t}return t},N.b,N.a)),a.Y(28,671744,null,0,O.n,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),a._16(2048,null,O.k,null,[O.n]),a.Y(30,16384,null,0,O.l,[O.k],null,null),a.Y(31,5423104,null,0,V.a,[I.a,j.a,k.a,z.a,a.j,a.z,[2,P.a],[2,C.a],[2,O.k],T.a],{type:[0,"type"]},null),(l()(),a._20(-1,2,["\n    "])),(l()(),a._20(-1,null,["\n    "])),(l()(),a.Z(34,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,v.b,v.a)),a.Y(35,1097728,null,3,C.a,[k.a,I.a,a.j,a.z,[2,Y.a]],null,null),a._18(335544320,7,{contentLabel:0}),a._18(603979776,8,{_buttons:1}),a._18(603979776,9,{_icons:1}),a.Y(39,16384,null,0,x.a,[],null,null),(l()(),a._20(-1,2,["\n      "])),(l()(),a.Z(41,0,null,1,2,"ion-label",[["floating",""]],null,null,null,null,null)),a.Y(42,16384,[[7,4]],0,A.a,[I.a,a.j,a.z,[8,""],[8,null],[8,null],[8,null]],null,null),(l()(),a._20(-1,null,["Password"])),(l()(),a._20(-1,2,["\n      "])),(l()(),a.Z(45,0,null,3,4,"ion-input",[["id","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,u){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.password=u)&&t}return t},N.b,N.a)),a.Y(46,671744,null,0,O.n,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),a._16(2048,null,O.k,null,[O.n]),a.Y(48,16384,null,0,O.l,[O.k],null,null),a.Y(49,5423104,null,0,V.a,[I.a,j.a,k.a,z.a,a.j,a.z,[2,P.a],[2,C.a],[2,O.k],T.a],{type:[0,"type"]},null),(l()(),a._20(-1,2,["\n    "])),(l()(),a._20(-1,null,["\n  "])),(l()(),a._20(-1,1,["\n  "])),(l()(),a.Z(53,0,null,1,2,"button",[["block",""],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.login()&&t}return t},q.b,q.a)),a.Y(54,1097728,null,0,J.a,[[8,""],I.a,a.j,a.z],{block:[0,"block"]},null),(l()(),a._20(-1,0,["Log In"])),(l()(),a._20(-1,1,["\n  "])),(l()(),a.Z(57,0,null,1,22,"ion-grid",[["class","grid"],["no-padding",""]],null,null,null,null,null)),a.Y(58,16384,null,0,D.a,[],null,null),(l()(),a._20(-1,null,["\n    "])),(l()(),a.Z(60,0,null,null,18,"ion-row",[["class","row"],["no-padding",""]],null,null,null,null,null)),a.Y(61,16384,null,0,K.a,[],null,null),(l()(),a._20(-1,null,["\n      "])),(l()(),a.Z(63,0,null,null,6,"ion-col",[["class","col"],["col-6",""]],null,null,null,null,null)),a.Y(64,16384,null,0,R.a,[],null,null),(l()(),a._20(-1,null,["\n        "])),(l()(),a.Z(66,0,null,null,2,"button",[["class","small-button-left3"],["ion-button",""],["small",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.forgotPassword()&&t}return t},q.b,q.a)),a.Y(67,1097728,null,0,J.a,[[8,""],I.a,a.j,a.z],{small:[0,"small"]},null),(l()(),a._20(-1,0,["\n          Forgot Password?\n        "])),(l()(),a._20(-1,null,["\n      "])),(l()(),a._20(-1,null,["\n      "])),(l()(),a.Z(71,0,null,null,6,"ion-col",[["class","col"],["col-6",""]],null,null,null,null,null)),a.Y(72,16384,null,0,R.a,[],null,null),(l()(),a._20(-1,null,["\n        "])),(l()(),a.Z(74,0,null,null,2,"button",[["class","small-button-right3"],["ion-button",""],["small",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.signUp()&&t}return t},q.b,q.a)),a.Y(75,1097728,null,0,J.a,[[8,""],I.a,a.j,a.z],{small:[0,"small"]},null),(l()(),a._20(-1,0,["Sign Up"])),(l()(),a._20(-1,null,["\n      "])),(l()(),a._20(-1,null,["\n    "])),(l()(),a._20(-1,null,["\n  "])),(l()(),a._20(-1,1,["\n"]))],function(l,n){var u=n.component;l(n,11,0,u.error);l(n,24,0,"email");l(n,28,0,u.username);l(n,31,0,"email");l(n,46,0,u.password);l(n,49,0,"password");l(n,54,0,"");l(n,67,0,"");l(n,75,0,"")},function(l,n){var u=n.component;l(n,2,0,a._11(n,3).statusbarPadding,a._11(n,3)._hasRefresher);l(n,27,0,a._11(n,30).ngClassUntouched,a._11(n,30).ngClassTouched,a._11(n,30).ngClassPristine,a._11(n,30).ngClassDirty,a._11(n,30).ngClassValid,a._11(n,30).ngClassInvalid,a._11(n,30).ngClassPending);l(n,45,0,a._11(n,48).ngClassUntouched,a._11(n,48).ngClassTouched,a._11(n,48).ngClassPristine,a._11(n,48).ngClassDirty,a._11(n,48).ngClassValid,a._11(n,48).ngClassInvalid,a._11(n,48).ngClassPending);l(n,53,0,u.loading)})}Object.defineProperty(n,"__esModule",{value:!0});var a=u(0),s=(u(3),u(57),u(59),u(41)),o=u(47),r=this&&this.__awaiter||function(l,n,u,t){return new(u||(u=Promise))(function(e,a){function s(l){try{r(t.next(l))}catch(l){a(l)}}function o(l){try{r(t.throw(l))}catch(l){a(l)}}function r(l){l.done?e(l.value):new u(function(n){n(l.value)}).then(s,o)}r((t=t.apply(l,n||[])).next())})},i=this&&this.__generator||function(l,n){function u(u){return function(s){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,e&&(a=e[2&u[0]?"return":u[0]?"throw":"next"])&&!(a=a.call(e,u[1])).done)return a;switch(e=0,a&&(u=[0,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,e=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(l,o)}catch(l){u=[6,l],e=0}finally{t=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}var t,e,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},c=function(){function l(l,n,u,t,e,a,s,o){this.navCtrl=l,this.navParams=n,this.api=u,this.storage=t,this.alertCtrl=e,this.menuCtrl=a,this.loadingCtrl=s,this.nativeStorage=o,this.loading=!1,this.menuCtrl.swipeEnable(!1)}return l.prototype.login=function(){return r(this,void 0,void 0,function(){var l,n;return i(this,function(u){switch(u.label){case 0:this.loading=!0,u.label=1;case 1:return u.trys.push([1,12,14,15]),[4,this.api.Authenticate(this.username,this.password)];case 2:return l=u.sent(),this.user=l.ValidateUserPostResult,this.nativeStorage.setItem("userInfo",JSON.stringify({u:this.user.Usernames,p:this.user.Passwords})),this.jwtToken=this.user.JWTToken,this.jwtToken.length>0?[4,this.storage.set("jwt",this.jwtToken)]:[3,11];case 3:return u.sent(),[4,this.storage.set("webuserid",this.user.Id)];case 4:return u.sent(),[4,this.storage.set("webuseremail",this.user.Email)];case 5:return u.sent(),[4,this.storage.set("webuserphone",this.user.Phone)];case 6:return u.sent(),[4,this.storage.set("isattorney",this.user.IsAttorney)];case 7:return u.sent(),[4,this.storage.set("userNames",JSON.stringify({firstName:this.user.FirstName,lastName:this.user.LastName}))];case 8:return u.sent(),[4,this.storage.set("LawOffice",this.user.AttorneyOffice)];case 9:return u.sent(),[4,this.navCtrl.setRoot("SelectLocationPage")];case 10:u.sent(),u.label=11;case 11:return[3,15];case 12:return n=u.sent(),[4,console.log(n)];case 13:return u.sent(),this.errorAlert(400==n.status?"Error implementing username or password. Please try again.":0==n.status?"Connection error. Please check your mobile signal or WiFi connection.":"Error logging in to ICC mobile. Please try again later."),this.username="",this.password="",[3,15];case 14:return this.loading=!1,[7];case 15:return[2]}})})},l.prototype.errorAlert=function(l){this.alertCtrl.create({title:"Login Error",subTitle:l,cssClass:"alertCustomClass",buttons:[{text:"OK",cssClass:"alertCustomClass3"}]}).present()},l.prototype.forgotPassword=function(){this.navCtrl.push("ForgotpasswordPage")},l.prototype.signUp=function(){this.navCtrl.push("SignupPage")},l}(),d=function(){return function(){}}(),p=u(200),g=u(201),_=u(202),f=u(203),h=u(204),m=u(205),b=u(206),y=u(207),w=u(208),v=u(130),C=u(16),k=u(14),I=u(1),Y=u(40),x=u(60),Z=u(209),P=u(21),j=u(4),T=u(9),z=u(8),F=u(24),S=u(5),U=u(20),M=u(11),E=u(48),L=u(6),A=u(50),N=u(278),O=u(18),V=u(131),q=u(46),J=u(19),D=u(90),K=u(88),R=u(89),W=u(10),B=u(127),X=u(86),G=u(22),H=u(85),Q=a.X({encapsulation:2,styles:[],data:{}}),$=a.V("page-login",c,function(l){return a._22(0,[(l()(),a.Z(0,0,null,null,1,"page-login",[],null,null,null,e,Q)),a.Y(1,49152,null,0,c,[U.a,W.a,o.a,B.b,X.a,G.a,H.a,s.a],null,null)],null,null)},{},{},[]),ll=u(126),nl=u(39);u.d(n,"LoginPageModuleNgFactory",function(){return ul});var ul=a.W(d,[],function(l){return a._7([a._8(512,a.i,a.S,[[8,[p.a,g.a,_.a,f.a,h.a,m.a,b.a,y.a,w.a,$]],[3,a.i],a.s]),a._8(4608,M.m,M.l,[a.r,[2,M.u]]),a._8(4608,O.s,O.s,[]),a._8(4608,O.d,O.d,[]),a._8(512,M.b,M.b,[]),a._8(512,O.q,O.q,[]),a._8(512,O.i,O.i,[]),a._8(512,O.o,O.o,[]),a._8(512,ll.a,ll.a,[]),a._8(512,ll.b,ll.b,[]),a._8(512,d,d,[]),a._8(256,nl.a,c,[])])})},278:function(l,n,u){"use strict";function t(l){return r._22(0,[(l()(),r.Z(0,0,[[1,0],["textInput",1]],null,1,"input",[["class","text-input"],["dir","auto"]],[[8,"type",0],[1,"aria-labelledby",0],[1,"min",0],[1,"max",0],[1,"step",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(l,n,u){var t=!0,e=l.component;if("input"===n){t=!1!==e.onInput(u)&&t}if("blur"===n){t=!1!==e.onBlur(u)&&t}if("focus"===n){t=!1!==e.onFocus(u)&&t}if("keydown"===n){t=!1!==e.onKeydown(u)&&t}return t},null,null)),r.Y(1,278528,null,0,i.i,[r.p,r.q,r.j,r.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(l,n){l(n,1,0,"text-input","text-input-"+n.component._mode)},function(l,n){var u=n.component;l(n,0,0,u._type,u._labelId,u.min,u.max,u.step,u.autocomplete,u.autocorrect,u.placeholder,u._disabled,u._readonly)})}function e(l){return r._22(0,[(l()(),r.Z(0,0,[[1,0],["textInput",1]],null,1,"textarea",[["class","text-input"]],[[1,"aria-labelledby",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(l,n,u){var t=!0,e=l.component;if("input"===n){t=!1!==e.onInput(u)&&t}if("blur"===n){t=!1!==e.onBlur(u)&&t}if("focus"===n){t=!1!==e.onFocus(u)&&t}if("keydown"===n){t=!1!==e.onKeydown(u)&&t}return t},null,null)),r.Y(1,278528,null,0,i.i,[r.p,r.q,r.j,r.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(l,n){l(n,1,0,"text-input","text-input-"+n.component._mode)},function(l,n){var u=n.component;l(n,0,0,u._labelId,u.autocomplete,u.autocorrect,u.placeholder,u._disabled,u._readonly)})}function a(l){return r._22(0,[(l()(),r.Z(0,0,null,null,1,"button",[["class","text-input-clear-icon"],["clear",""],["ion-button",""],["tabindex","-1"],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.clearTextInput(u)&&t}if("mousedown"===n){t=!1!==e.clearTextInput(u)&&t}return t},c.b,c.a)),r.Y(1,1097728,null,0,d.a,[[8,""],p.a,r.j,r.z],{clear:[0,"clear"]},null)],function(l,n){l(n,1,0,"")},null)}function s(l){return r._22(0,[(l()(),r.Z(0,0,null,null,0,"div",[["class","input-cover"]],null,[[null,"touchstart"],[null,"touchend"],[null,"mousedown"],[null,"mouseup"]],function(l,n,u){var t=!0,e=l.component;if("touchstart"===n){t=!1!==e._pointerStart(u)&&t}if("touchend"===n){t=!1!==e._pointerEnd(u)&&t}if("mousedown"===n){t=!1!==e._pointerStart(u)&&t}if("mouseup"===n){t=!1!==e._pointerEnd(u)&&t}return t},null,null))],null,null)}function o(l){return r._22(2,[r._18(671088640,1,{_native:0}),(l()(),r.U(16777216,null,null,1,null,t)),r.Y(2,16384,null,0,i.k,[r.I,r.F],{ngIf:[0,"ngIf"]},null),(l()(),r.U(16777216,null,null,1,null,e)),r.Y(4,16384,null,0,i.k,[r.I,r.F],{ngIf:[0,"ngIf"]},null),(l()(),r.U(16777216,null,null,1,null,a)),r.Y(6,16384,null,0,i.k,[r.I,r.F],{ngIf:[0,"ngIf"]},null),(l()(),r.U(16777216,null,null,1,null,s)),r.Y(8,16384,null,0,i.k,[r.I,r.F],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,!u._isTextarea);l(n,4,0,u._isTextarea);l(n,6,0,u._clearInput);l(n,8,0,u._useAssist)},null)}u.d(n,"a",function(){return g}),n.b=o;var r=u(0),i=u(11),c=u(46),d=u(19),p=u(1),g=(u(4),u(14),u(9),r.X({encapsulation:2,styles:[],data:{}}))}});